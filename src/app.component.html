<!-- Header -->
<header class="bg-gray-900/80 backdrop-blur-sm shadow-md shadow-fuchsia-500/10 sticky top-0 z-50">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center py-4">
    <a routerLink="/" class="flex items-center space-x-2">
      <div class="text-3xl text-fuchsia-500"><i class="fas fa-cube"></i></div>
      <h1 class="text-2xl font-semibold text-white">XUSTOM<span class="text-cyan-400">3D</span></h1>
    </a>
    <nav class="hidden md:flex items-center space-x-6">
      <a routerLink="/" routerLinkActive="text-cyan-400" [routerLinkActiveOptions]="{exact: true}" class="text-gray-300 font-medium hover:text-cyan-400 transition-colors duration-300 cursor-pointer">Home</a>
      <a routerLink="/gallery" routerLinkActive="text-cyan-400" class="text-gray-300 font-medium hover:text-cyan-400 transition-colors duration-300 cursor-pointer">Gallery</a>
      <a routerLink="/ai-customizer" routerLinkActive="text-cyan-400" class="text-gray-300 font-medium hover:text-cyan-400 transition-colors duration-300 cursor-pointer">Create with Sarah</a>
      <a routerLink="/services" routerLinkActive="text-cyan-400" class="text-gray-300 font-medium hover:text-cyan-400 transition-colors duration-300 cursor-pointer">Services</a>
      <a routerLink="/contact" routerLinkActive="text-cyan-400" class="text-gray-300 font-medium hover:text-cyan-400 transition-colors duration-300 cursor-pointer">Contact</a>
    </nav>
    <div class="flex items-center space-x-4">
      <div class="relative text-2xl cursor-pointer text-gray-300 hover:text-cyan-400 transition-colors duration-300" (click)="openCartModal()">
        <i class="fas fa-shopping-cart"></i>
        @if (cartService.cartCount() > 0) {
          <span class="absolute -top-2 -right-2 bg-fuchsia-600 text-white rounded-full w-5 h-5 flex justify-center items-center text-xs">{{ cartService.cartCount() }}</span>
        }
      </div>
       <button class="md:hidden text-2xl text-gray-300 hover:text-cyan-400">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </div>
</header>

<main>
  <router-outlet></router-outlet>
</main>

<!-- Footer -->
<footer class="bg-gray-900 border-t border-gray-800 text-gray-400 py-12" id="contact">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="flex-1 min-w-[200px] mb-8 pr-4">
        <h4 class="text-lg font-semibold mb-5 text-cyan-400">XUSTOM 3D</h4>
        <p class="text-gray-400">Your vision, materialized. AI-powered design and precision 3D printing for creators and innovators.</p>
        <div class="flex gap-4 mt-5">
          <a href="#" class="text-gray-400 text-2xl hover:text-cyan-400 transition-colors duration-300"><i class="fab fa-facebook"></i></a>
          <a href="#" class="text-gray-400 text-2xl hover:text-cyan-400 transition-colors duration-300"><i class="fab fa-instagram"></i></a>
          <a href="#" class="text-gray-400 text-2xl hover:text-cyan-400 transition-colors duration-300"><i class="fab fa-twitter"></i></a>
          <a href="#" class="text-gray-400 text-2xl hover:text-cyan-400 transition-colors duration-300"><i class="fab fa-linkedin"></i></a>
        </div>
      </div>
      <div class="flex-1 min-w-[200px] mb-8">
        <h4 class="text-lg font-semibold mb-5 text-cyan-400">Quick Links</h4>
        <ul class="list-none">
          <li class="mb-3"><a routerLink="/" class="text-gray-400 hover:text-white transition-colors duration-300 cursor-pointer">Home</a></li>
          <li class="mb-3"><a routerLink="/gallery" class="text-gray-400 hover:text-white transition-colors duration-300 cursor-pointer">Gallery</a></li>
          <li class="mb-3"><a routerLink="/ai-customizer" class="text-gray-400 hover:text-white transition-colors duration-300 cursor-pointer">Create with Sarah</a></li>
          <li class="mb-3"><a routerLink="/services" class="text-gray-400 hover:text-white transition-colors duration-300 cursor-pointer">Services</a></li>
        </ul>
      </div>
      <div class="flex-1 min-w-[200px] mb-8">
        <h4 class="text-lg font-semibold mb-5 text-cyan-400">Contact Us</h4>
        <div class="mt-4">
          <p class="mb-2 flex items-center"><i class="fas fa-map-marker-alt mr-2 text-cyan-400"></i> Faisalabad, Pakistan</p>
          <p class="mb-2 flex items-center"><i class="fas fa-phone mr-2 text-cyan-400"></i> +92 300 1234567</p>
          <p class="mb-2 flex items-center"><i class="fas fa-envelope mr-2 text-cyan-400"></i> contact@xustom3d.com</p>
        </div>
      </div>
    </div>
    <div class="text-center pt-5 border-t border-gray-700 text-gray-500 text-sm">
      <p>&copy; 2024 XUSTOM 3D. All rights reserved. Managed by Sarah & Login AI.</p>
    </div>
  </div>
</footer>

<!-- Toast Notifications -->
<app-toast></app-toast>

<!-- Custom Order Modal -->
<app-custom-order-modal 
  [isOpen]="isCustomOrderModalOpen()" 
  [initialDescription]="customOrderDescription()"
  (closeModal)="closeCustomOrderModal()" 
  (submitOrder)="handleCustomOrderSubmit($event)" />

<!-- Cart Modal -->
<app-cart-modal 
  [isOpen]="isCartModalOpen()" 
  [cartItems]="cartService.cartItems()" 
  [cartTotal]="cartService.cartTotal()" 
  (closeModal)="closeCartModal()" 
  (updateQuantity)="handleUpdateCartQuantity($event)" 
  (removeItem)="handleRemoveCartItem($event)" />